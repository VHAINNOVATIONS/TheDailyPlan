<div ng-controller="PatientPlanCtrl as ctrl" class="container">
  <div class="row">
    <h3>The Daily Plan</h3>
    <span>Date/Time:<b> {{ctrl.cdate | date:'MM/dd/yyyy hh:mm:ss a'}}</b></span>
  </div>
  <div class="row">
    <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Patient: {{ctrl.demographics.name}} DOB: {{ctrl.demographics.DOB}} Gender: {{ctrl.demographics.sex}} SSN: {{ctrl.demographics.SSN}}</h3>
        </div>
        <div class="panel-body">
          <div class="row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                  <div class="panel panel-default">
                    <div class="panel-heading">
                      <h3 class="panel-title">Allergies</h3>
                    </div>
                    <div class="panel-body">
                      <div>
                        <ng ng-repeat="allergy in ctrl.allergies">
                          <span class="label label-primary">{{allergy.allergenName}}</span>
                        </ng>
                      </div>
                    </div>
                  </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                  <div class="panel panel-default">
                      <div class="panel-heading">
                        <h3 class="panel-title">Vitals</h3>
                      </div>
                      <div class="panel-body">
                        <div class="control-group">
                          <input type="button" class="btn btn-small" ng-click="ctrl.expandVitalsRows()" value="Expand All"/>
                          <input type="button" class="btn btn-small" ng-click="ctrl.collapseVitalsRows()" value="Collapse All"/>
                        </div>
                        <div ui-grid="ctrl.vitalsGridOptions" ui-grid-pinning ui-grid-expandable class="grid">
                          <div class="grid-msg-overlay" ng-hide="!ctrl.vitalsLoading">
                            <div class="msg">
                              <span>
                                Loading Data...
                                <i class="fa fa-spinner fa-spin"></i>
                              </span>
                            </div>
                          </div>
                          <div class="grid-msg-overlay" ng-hide="ctrl.vitalsLoading || ctrl.vitalsGridOptions.data.length">
                            <div class="msg">
                              <span>No Data</span>
                            </div>
                          </div>
                        </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="row">
              <div class="col-lg-6 col-md-6 col-sm-6">
                  <div class="panel panel-default">
                      <div class="panel-heading">
                        <h3 class="panel-title">Problems</h3>
                      </div>
                      <div class="panel-body">
                        <div class="control-group">
                          <input type="button" class="btn btn-small" ng-click="ctrl.expandProblemsRows()" value="Expand All"/>
                          <input type="button" class="btn btn-small" ng-click="ctrl.collapseProblemsRows()" value="Collapse All"/>
                        </div>
                        <div ui-grid="ctrl.problemsGridOptions" ui-grid-pinning ui-grid-expandable class="grid">
                          <div class="grid-msg-overlay" ng-hide="!ctrl.problemsLoading">
                            <div class="msg">
                              <span>
                                Loading Data...
                                <i class="fa fa-spinner fa-spin"></i>
                              </span>
                            </div>
                          </div>
                          <div class="grid-msg-overlay" ng-hide="ctrl.problemsLoading || ctrl.problemsGridOptions.data.length">
                            <div class="msg">
                              <span>No Data</span>
                            </div>
                          </div>
                        </div>
                      </div>
                  </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6">
                  <div class="panel panel-default">
                      <div class="panel-heading">
                        <h3 class="panel-title">Immunizations</h3>
                      </div>
                      <div class="panel-body">
                        <ul class="example-animate-container">
                          <li class="animate-repeat" ng-repeat="imm in ctrl.immunizations">
                            Name: {{imm.name}}
                          </li>
                        </ul>
                      </div>
                  </div>
              </div>
          </div>
        </div>
    </div>
  </div>
</div>
